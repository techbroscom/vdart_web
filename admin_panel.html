<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Page with Sidebar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

.sidebar {
    height: 100vh;
    width: 250px;
    position: fixed;
    top: 0;
    left: 0;
    background-color: #333;
    padding-top: 20px;
    z-index: 1; /* Ensure sidebar is on top */
}

.sidebar a {
    padding: 10px 15px;
    text-decoration: none;
    font-size: 18px;
    color: white;
    display: block;
}

.sidebar a.active {
    background-color: #555;
}

.sidebar a:hover {
    background-color: #555;
}

.content {
    margin-left: 250px; /* Adjust content area to accommodate sidebar */
    padding: 20px;
}

@media screen and (max-width: 768px) {
    .sidebar {
        width: 100%;
        left: -250px; /* Hide sidebar off-screen by default */
        transition: left 0.3s;
    }

    .content {
        margin-left: 0;
        transition: margin-left 0.3s;
    }

    /* Show sidebar when menu icon is clicked */
    .sidebar.show {
        left: 0;
    }

    /* Shift content area when sidebar is shown */
    .content.show {
        margin-left: 250px;
    }
}
    </style>
</head>

<body>
    <div class="sidebar">
        <a href="#" class="active" onclick="showContent('search')">Search</a>
        <a href="#" onclick="showContent('employee')">Employee Data</a>
        <a href="#" onclick="showContent('store')">Store Data</a>
        <a href="#" onclick="showContent('credit')">Credit Coins</a>
    </div>
    <div class="content" id="content">
        <div id="search">
            <h2>Search</h2>
            <form id="searchForm">
                <input type="text" id="searchInput" placeholder="Enter user ID">
                <button type="submit"><i class="fas fa-search"></i> Search</button>
            </form>
            <div id="searchResult" style="display:none;">
                <h3>User Details</h3>
                <p id="userDetails"></p>
                <button onclick="updateUserDetails()">Update Details</button>
            </div>
        </div>
        <div id="profile" style="display:none;">
            <h2>Profile</h2>
            <p>This is the Profile content.</p>
        </div>
        <div id="settings" style="display:none;">
            <h2>Settings</h2>
            <p>This is the Settings content.</p>
        </div>
        <div id="logout" style="display:none;">
            <h2>Logout</h2>
            <p>This is the Logout content.</p>
        </div>
    </div>

    <!-- Firebase JavaScript SDK and Initialization code -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        function showContent(id) {
            var contentDivs = document.getElementsByClassName('content')[0].children;
            var sidebarLinks = document.getElementsByClassName('sidebar')[0].children;
            for (var i = 0; i < contentDivs.length; i++) {
                contentDivs[i].style.display = 'none';
                sidebarLinks[i].classList.remove('active');
            }
            document.getElementById(id).style.display = 'block';
            event.currentTarget.classList.add('active');
        }

        // Show the first content by default
        document.getElementById('search').style.display = 'block';


// Firebase configuration (replace with your own config)
const firebaseConfig = {
    apiKey: "AIzaSyCvcxuv1-MWBtHMIUkeqGH_gfyBWaNN7K0",
    authDomain: "vdarttest.firebaseapp.com",
    projectId: "vdarttest",
    storageBucket: "vdarttest.appspot.com",
    messagingSenderId: "157342186908",
    databaseURL: "https://vdarttest-default-rtdb.asia-southeast1.firebasedatabase.app",
    appId: "1:157342186908:web:ea6c53598d3e9d1cab9c59",
    measurementId: "G-NVXLVD13D1"
  };

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

var database = firebase.database();

function searchUser(event) {
    event.preventDefault();
    var userId = document.getElementById('searchInput').value;
    var userDetailsRef = database.ref('userDetails/' + userId);
    userDetailsRef.once('value', function(snapshot) {
        var userDetails = snapshot.val();
        if (userDetails) {
            var message = userDetails.message ? userDetails.message : "No message";
            var orderStore = userDetails.orderStore ? userDetails.orderStore : "No order store";
            var pendingTransId = userDetails.pendingTransId ? userDetails.pendingTransId : "No pending transaction ID";

            var userDetailsHtml = `
                <p><strong>User ID:</strong> ${userDetails.id}</p>
                <p><strong>User Name:</strong> <input type="text" id="userNameInput" value="${userDetails.userName}"></p>
                <p><strong>User Type:</strong> ${userDetails.userType}</p>
                <p><strong>Balance:</strong> <input type="text" id="balanceInput" value="${userDetails.balance}"></p>
                <p><strong>Location:</strong> ${userDetails.location}</p>
                <p><strong>Status:</strong> ${userDetails.status}</p>
                <p><strong>Order Store:</strong> ${orderStore}</p>
                <p><strong>Message:</strong> ${message}</p>
                <p><strong>Pending Transaction ID:</strong> ${pendingTransId}</p>
            `;
            document.getElementById('userDetails').innerHTML = userDetailsHtml;
            document.getElementById('searchResult').style.display = 'block';
        } else {
            alert('User not found');
        }
    });
}



function updateUserDetails() {
    var userId = document.getElementById('searchInput').value;
    var userName = document.getElementById('userNameInput').value;
    var balance = document.getElementById('balanceInput').value;
    var newDetails = {
        userName: userName,
        balance: balance
        // Add other fields to update if needed
    };
    var userDetailsRef = database.ref('userDetails/' + userId);
    userDetailsRef.update(newDetails, function(error) {
        if (error) {
            alert('Failed to update user details');
        } else {
            alert('User details updated successfully');
        }
    });
}

document.getElementById('searchForm').addEventListener('submit', searchUser);
</script>
</body>

</html>
