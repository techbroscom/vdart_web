<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Food Order</title>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<!-- Custom CSS -->
<style>
    body {
        background-color: #f8f9fa;
        margin-bottom: 60px; /* Add margin for the toggle button */
    }
    .card {
        margin-bottom: 20px;
    }
    .order-summary {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        transform: translateY(100%);
        transition: transform 0.3s ease-in-out;
        overflow-y: scroll;
        max-height: 200px; /* Set a max height for the scrollable area */
        z-index: 1000; /* Set a higher z-index value */
    }
    .order-summary.show {
        transform: translateY(0);
    }
    .arrow {
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-bottom: 10px solid #fff;
    }
    .toggle-summary {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: none;
        z-index: 2000; /* Set a higher z-index value */
    }
</style>
</head>
<body>


<div class="container">
    <h2 class="text-center">Menu</h2>
    <div class="row">
        <!-- Food Items -->
        <div class="col-md-4">
            <div class="card">
                <!-- <img src="https://via.placeholder.com/150" class="card-img-top" alt="..."> -->
                <div class="card-body">
                    <h5 class="card-title">Food Item 1</h5>
                    <p class="card-text">Description of food item 1.</p>
                    <p class="card-text">Price: $10</p>
                    <div class="quantity-input">
                        <button class="btn btn-outline-secondary decrease-quantity">-</button>
                        <input type="text" class="quantity" value="1">
                        <button class="btn btn-outline-secondary increase-quantity">+</button>
                    </div>
                    <button class="btn btn-primary add-to-cart" data-name="Food Item 1" data-price="10">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <!-- <img src="https://via.placeholder.com/150" class="card-img-top" alt="..."> -->
                <div class="card-body">
                    <h5 class="card-title">Food Item 2</h5>
                    <p class="card-text">Description of food item 1.</p>
                    <p class="card-text">Price: $20</p>
                    <div class="quantity-input">
                        <button class="btn btn-outline-secondary decrease-quantity">-</button>
                        <input type="text" class="quantity" value="1">
                        <button class="btn btn-outline-secondary increase-quantity">+</button>
                    </div>
                    <button class="btn btn-primary add-to-cart" data-name="Food Item 2" data-price="20">Add to Cart</button>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <!-- <img src="https://via.placeholder.com/150" class="card-img-top" alt="..."> -->
                <div class="card-body">
                    <h5 class="card-title">Food Item 3</h5>
                    <p class="card-text">Description of food item 1.</p>
                    <p class="card-text">Price: $30</p>
                    <div class="quantity-input">
                        <button class="btn btn-outline-secondary decrease-quantity">-</button>
                        <input type="text" class="quantity" value="1">
                        <button class="btn btn-outline-secondary increase-quantity">+</button>
                    </div>
                    <button class="btn btn-primary add-to-cart" data-name="Food Item 3" data-price="30">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
</div>

<button id="toggleOrderSummary" class="btn btn-secondary btn-sm">Toggle Summary</button>

<!-- Order Summary Bottom Sheet -->
<div class="order-summary">
    <div class="arrow"></div>
    <div class="d-flex justify-content-end">
        <button class="btn btn-danger btn-sm close-summary">X</button>
    </div>
    <h4>Order Summary</h4>
    <button class="btn btn-secondary btn-sm toggle-summary">Toggle Summary</button>
    <ul id="order-list"></ul>
    <p>Total: <span id="total-price">$0</span></p>
    <button class="btn btn-success">Place Order</button>
</div>


<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- Custom JS -->
<script>
    $(document).ready(function() {
        let total = 0;
        const orderList = $('#order-list');
        const totalPrice = $('#total-price');
        const orderSummary = $('.order-summary');
        const toggleSummary = $('.toggle-summary');

        // Toggle button click handler
        $('#toggleOrderSummary').click(function() {
            orderSummary.toggleClass('show');
            toggleSummary.toggleClass('show');
        });

        toggleSummary.click(function() {
            orderSummary.toggleClass('show');
            toggleSummary.toggleClass('show');
        });

        $('.add-to-cart').click(function() {
            const name = $(this).data('name');
            const price = $(this).data('price');
            total += price;
            orderList.append(`<li>${name} - $${price} <button class="btn btn-danger btn-sm remove-item">X</button></li>`);
            totalPrice.text(`$${total}`);
            orderSummary.addClass('show');
            toggleSummary.addClass('show');
        });

        $(document).on('click', '.remove-item', function() {
            const priceStr = $(this).parent().text().trim();
            const price = parseInt(priceStr.replace(/^\D+/g, ''));
            total -= price;
            $(this).parent().remove();
            totalPrice.text(`$${total}`);
        });

        $('.btn-success').click(function() {
            alert('Order placed! Total amount: $' + total);
            total = 0;
            orderList.empty();
            totalPrice.text('$0');
            orderSummary.removeClass('show');
            toggleSummary.removeClass('show');
        });

        $('.decrease-quantity').click(function() {
            const input = $(this).siblings('.quantity');
            let value = parseInt(input.val());
            if (value > 1) {
                value--;
                input.val(value);
            }
        });

        $('.increase-quantity').click(function() {
            const input = $(this).siblings('.quantity');
            let value = parseInt(input.val());
            value++;
            input.val(value);
        });

        $('.close-summary').click(function() {
    orderSummary.removeClass('show');
    toggleSummary.removeClass('show');
});
    });
</script>
</body>
</html>
